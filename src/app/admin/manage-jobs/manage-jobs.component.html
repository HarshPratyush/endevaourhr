<najah-bread-crumb [pageName]="'Manage Jobs'" [breadCrumb]="breadCrumb" [imageUrl]="'./assets/images/banner-2.jpg'"></najah-bread-crumb>
<div class="container-fluid ">
  <div class="row">
    <div class="col-md-9">

      <div class="row">
        <div class="col-md-6">
          <mat-form-field  class="width-100">
            <mat-label>Industry</mat-label>
            <mat-select [(ngModel)]="selectedSpecialization" (selectionChange)="getDivision(select.value)" #select>
              <mat-option *ngFor="let industry of specialization" [value]="industry" >{{industry.name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>


        <div class="col-md-5">
          <mat-form-field  class="width-100"> 
            <mat-label>Division</mat-label>
            <mat-select [(ngModel)]="selectedDivision" >
              <mat-option *ngFor="let division of divisions" [value]="division">{{division.divisionName}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-md-1">
         <button class="btn btn-info"(click)="selectedSpecialization=null;selectedDivision=null;"><mat-icon>refresh</mat-icon></button>
        </div>
        </div>

        <mat-accordion>
            <mat-expansion-panel *ngFor = "let job of (allJobs|search:'divisionId':(selectedDivision?selectedDivision.id:''))">
              <mat-expansion-panel-header>
                <mat-panel-title>

                  Company Name : {{job.companyName}}
                </mat-panel-title>
                <mat-panel-title>
                    Location : {{job.location}}
                  </mat-panel-title>
                  <mat-panel-title>
                    Openings: {{job.openings}}
                  </mat-panel-title>
              </mat-expansion-panel-header>
              <table class="table">
                  <tr>
                    <th>Name:</th>
                    <td>{{job.name}}</td>
                  </tr>
                  <tr>
                    <th>Requirement:</th>
                    <td>{{job.requirement}}</td>
                  </tr>
                  <tr>
                    <th>Email:</th>
                    <td>{{job.emailId}}</td>
                  </tr>
                  <tr>
                    <th>Active:</th>
                    <td>
                            <mat-slide-toggle (change)="openDialog(job)" [checked]="!job.archived" [disabled]="job.archived">
                            </mat-slide-toggle>
                    </td>
                  </tr>
                  <tr>
                    <th>Created On:</th>
                    <td>{{job.createdOn}}</td>
                  </tr>
                  <tr>
                    <th>Created By</th>
                    <td>{{job.createdBy}}</td>
                  </tr>
                  <tr>
                    <th>Updated On:</th>
                    <td>{{job.updatedOn}}</td>
                  </tr>
                  <tr>
                    <th>Updated By:</th>
                    <td>{{job.updatedBy}}</td>
                  </tr>
              </table>

            </mat-expansion-panel>
          </mat-accordion>
    </div>
    <div class="col-md-3">
        <najah-side-nav-details></najah-side-nav-details>
      </div>
  </div>
</div>